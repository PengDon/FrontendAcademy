# Electron 菜单和对话框示例

本目录包含了Electron中菜单和对话框的使用示例。这些UI元素是桌面应用程序的重要组成部分，可以提供用户友好的交互体验。

## 菜单（Menu）

Electron提供了丰富的菜单功能，可以创建应用程序菜单、上下文菜单、托盘菜单等。

### 菜单类型

1. **应用程序菜单** - 显示在窗口顶部的菜单栏
2. **上下文菜单** - 右键点击时显示的菜单
3. **托盘菜单** - 系统托盘中应用图标点击时显示的菜单

### 基本菜单结构

每个菜单由以下组件组成：
- Menu - 菜单容器
- MenuItem - 菜单项
- SubMenu - 子菜单

### 菜单项类型

- 普通菜单项
- 分隔线
- 复选框菜单项
- 单选按钮组
- 子菜单

## 对话框（Dialog）

Electron的对话框模块提供了原生的系统对话框功能，可以用于文件选择、消息提示、确认对话框等。

### 对话框类型

1. **打开文件对话框** - 用于选择一个或多个文件
2. **保存文件对话框** - 用于保存文件
3. **消息对话框** - 用于显示消息、警告或错误
4. **确认对话框** - 用于获取用户确认

### 对话框特性

- 支持多文件选择
- 支持文件类型过滤
- 支持默认路径设置
- 支持自定义按钮
- 支持异步和同步模式

## 示例文件

- `menu-example.js` - 菜单示例代码
- `dialog-example.js` - 对话框示例代码
- `main.js` - 完整示例应用的主进程代码
- `index.html` - 示例应用的界面
- `preload.js` - 预加载脚本

## 如何运行示例

1. 确保已安装Node.js和npm
2. 在当前目录下安装依赖：
   ```
   npm install electron
   ```
3. 运行应用：
   ```
   npx electron main.js
   ```

## 菜单最佳实践

1. 使用快捷键提高用户体验
2. 为菜单项提供图标（在支持的平台上）
3. 适当使用分隔线组织菜单项
4. 确保菜单结构清晰、逻辑合理
5. 响应菜单项的可用性状态（启用/禁用）
6. 考虑平台差异（Windows、macOS、Linux）

## 对话框最佳实践

1. 使用异步对话框避免阻塞UI线程
2. 提供清晰的文件类型过滤器
3. 设置合理的默认值
4. 处理用户取消操作的情况
5. 提供有用的错误信息
6. 避免过度使用对话框打断用户流程

## 平台特定注意事项

### macOS
- 应用程序菜单通常显示在屏幕顶部，而不是窗口顶部
- 某些系统菜单（如"关于"、"服务"）有特定的位置和行为
- 菜单项的快捷键格式与Windows和Linux不同

### Windows
- 菜单栏显示在窗口顶部
- 可以设置窗口是否显示菜单栏
- 支持任务栏进度指示器

### Linux
- 菜单行为可能因桌面环境而异
- 确保测试不同的Linux发行版和桌面环境

## 安全考虑

1. 在处理文件对话框选择的文件时，验证文件路径和内容
2. 避免在菜单中暴露敏感操作，或提供适当的权限控制
3. 使用对话框时，避免显示敏感信息
4. 实现适当的错误处理和异常捕获

## 学习资源

- [Electron官方文档 - Menu](https://www.electronjs.org/docs/api/menu)
- [Electron官方文档 - MenuItem](https://www.electronjs.org/docs/api/menu-item)
- [Electron官方文档 - Dialog](https://www.electronjs.org/docs/api/dialog)
- [Electron官方文档 - 托盘](https://www.electronjs.org/docs/api/tray)